# qa-sandbox

QA Sandbox is a utility tool that is intended to aid with the repetitive activities that needs to be performed during testing. This utility currently provides three primary features: Actions, Mocker, and Dependency Version Tracker.

**Actions**: Automates repetitive UI and API tasks. Both UI and API uses the Playwright library for its operations.

**Mocker**: Provides mock data for testing. The data generated is random, but maintains relation with its related entities. (i.e. fetching location data will provide address that matches its post code, city, state, and country). For fallback data, fakerjs library is used.

Note: Fallback data will not maintain proper data relations.

**Dependency Version Tracker**: Notifies user when a new version of a particular dependency is updated. Multiple trackers can be created for different projects. This also uses Playwright library for the UI automation operations.

## Prerequisites

1. Install NodeJS:

```
Verison Used In Project: `v20.12.2` LTS
```

2. Install Playwright Browsers:

```bash
npx playwright install
```

3. Clone the Repository:

```bash
git clone https://github.com/StalinDurjo/qa-sandbox.git
```

4. Create a `.env` file in the root directory and configure your environment variables:

```bash
cp .env.example .env
```

5. Define `PORT` in `.env` file:

```
Default port is `3000`. Keep the value blank to use `3000` as the port number.
```

6. Install Dependencies:

```
Goto the project root directory and run:

npm install
```

## Starting The Project

Goto the project root directory and type the following:

```bash
npm run dev
```

## Project Structure

```
includes/
├── actions/
├── mocker/
└── version-tracker/
out/
pages/
src/
├── core/
├── lib/
├── server/
├── service/
├── constant.ts
├── index.ts
└── type.d.ts
.env.sample
test.config.ts
```

## Usage - Mocker

A default project is already integrated, which provides randomly generated mock data. No setup is required for this. The mock data can be generated by calling specific REST API routes that are provided below:

| Method | Endpoint                  | Description         |
| ------ | ------------------------- | ------------------- |
| POST   | /mocker/full-user-details | Get full users      |
| POST   | /mocker/user-details      | Get limited details |
| POST   | /mocker/bank-details      | Get bank details    |

**Request Body**: The json object of the request body takes in a `locale` property for providing data based on country code (2 digit - `alpha2`). Default is `US`.

### Example Usage

```bash
curl -X POST http://localhost:3000/mocker/full-user-detail \
     -H "Content-Type: application/json" \
     -d '{"locale":"BD"}'

```

## Adding Mocker Project

The utility allows users to add custom mocker projects with their own implementation.

To add a project, create a folder inside `includes > mocker > project`. The folder name will be used as the project name.

![Create Mocker Project](/src/readme/mocker-create-project-1.png 'Create Folder As Mocker Project')

Create the main entry file`index.ts` inside that folder
